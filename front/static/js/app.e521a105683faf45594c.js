webpackJsonp([1],{AM6s:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("pYYZ"),s=a.n(i),u=a("stSB"),n=a.n(u),l=a("bQjm"),r=a.n(l),o=a("ueFR"),c=a.n(o),d=a("pKUm"),p=a.n(d),m=a("OYmM"),h=a.n(m),v=a("7+uW"),f=(a("TNmv"),a("fO40")),_=a.n(f),g={name:"App",data:function(){return{maxCount:20,uuid:"",images:[]}},mounted:function(){var e=(new Date).getTime(),t="xxxxxxxxyyyyxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)});this.uuid=t;var a=[],i=[],s=0,u=document.getElementById("uploadCount"),n=["image/jpg","image/jpeg","image/png","image/gif"],l=this.maxCount;_.a.uploader("#uploaderCustom",{url:"http://www.lianaizhuli.com/v1/api/addimage",auto:!1,onQueued:function(){a.push(this);var e=this.id;$("#uploaderFiles li").each(function(){$(this).attr("data-id")==e&&$(this).attr("data-fid",ret.OtherData)})},onBeforeQueued:function(e){return n.indexOf(this.type)<0?(_.a.alert("请上传图片"),!1):this.size>10485760?(_.a.alert("".concat("请上传不超过",10,"M的图片")),!1):e.length>l?(_.a.alert("".concat("最多只能上传",l,"张图片，请重新选择")),!1):s+1>l?(_.a.alert("".concat("最多只能上传",l,"张图片")),!1):(++s,void(u.innerHTML=s))},onBeforeSend:function(e,a){$("#submitBtn").addClass("weui-btn_disabled"),$("#loadingToast").fadeIn(100),e.uuid=t,e.image_id=s,i.push(e)},onProgress:function(e){},onSuccess:function(e){1==e.Result&&(uploadSuccessCount++,uploadSuccessCount==s&&($("#loadingToast").fadeOut(100),$("#submitBtn").removeClass("weui-btn_disabled")))},onError:function(e){console.log(this,e)}}),document.getElementById("uploaderCustomBtn").addEventListener("click",function(){a.forEach(function(e){e.upload()})}),document.querySelector("#uploaderCustomFiles").addEventListener("click",function(e){for(var t=e.target;!t.classList.contains("weui-uploader__file")&&t;)t=t.parentNode;if(t){var s=t.getAttribute("style")||"",u=t.getAttribute("data-id");s&&(s=s.match(/url\((.*?)\)/)[1].replace(/"/g,""));var n=_.a.gallery(s,{onDelete:function(){_.a.confirm("确定删除该图片？",function(){for(var e,s=0,l=a.length;s<l;++s){if(a[s].id==u){e=s;break}}void 0!==e&&(a.splice(e,1),i.splice(e,1)),t.remove(),n.hide()})}})}}),this.images=i}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view",{attrs:{maxCount:this.maxCount,uuid:this.uuid,images:this.images}})],1)},staticRenderFns:[]};var x=a("VU/8")(g,w,!1,function(e){a("R5g5")},null,null).exports,C=a("/ocq"),b=a("aGG/"),y=a.n(b),k=a("mtWM"),T=a.n(k),S={name:"Contribute",props:["maxCount","uuid","images"],data:function(){return{text:"Welcome, this is the Contribute page!",huashu:{femaleText:"",maleText:""},guanli:"",qinghua:"",celue:"",fileArr:[]}},methods:{showSuccess:function(){var e=this;""!==this.huashu.femaleText&&""===this.huashu.maleText||""===this.huashu.femaleText&&""!==this.huashu.maleText?y.a.text({duration:1e3,message:"贡献话术部分请输入完整话术～"}):""===this.huashu.femaleText&&""===this.huashu.maleText&&""===this.guanli&&""===this.qinghua&&""===this.celue?y.a.text({duration:1e3,message:"至少贡献一条内容才能提交哦～"}):T.a.post("/contribute",{params:{uuid:this.uuid,huashu:this.huashu,guanli:this.guanli,qinghua:this.qinghua,celue:this.celue,images:this.images}}).then(function(t){e.$router.push({name:"Reminder",params:{text:"恋爱联盟感谢您的贡献，关注与支持"}})})}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("wv-group",{staticStyle:{"margin-top":"20px"},attrs:{title:"贡献话术"}},[a("wv-input",{attrs:{label:"美女",placeholder:"请输入话术问题"},model:{value:e.huashu.femaleText,callback:function(t){e.$set(e.huashu,"femaleText",t)},expression:"huashu.femaleText"}}),e._v(" "),a("wv-input",{attrs:{label:"型男",placeholder:"请输入话术答案"},model:{value:e.huashu.maleText,callback:function(t){e.$set(e.huashu,"maleText",t)},expression:"huashu.maleText"}})],1),e._v(" "),a("wv-group",{attrs:{title:"贡献惯例"}},[a("wv-textarea",{attrs:{placeholder:"请输入惯例","show-counter":!1},model:{value:e.guanli,callback:function(t){e.guanli=t},expression:"guanli"}})],1),e._v(" "),a("wv-group",{attrs:{title:"贡献情话"}},[a("wv-textarea",{attrs:{placeholder:"请输入情话","show-counter":!1},model:{value:e.qinghua,callback:function(t){e.qinghua=t},expression:"qinghua"}})],1),e._v(" "),a("wv-group",{attrs:{title:"贡献恋爱策略"}},[a("wv-textarea",{attrs:{placeholder:"请输入恋爱策略","show-counter":!1},model:{value:e.celue,callback:function(t){e.celue=t},expression:"celue"}})],1),e._v(" "),e._m(0),e._v(" "),a("p",{staticClass:"weui-cells__title"},[e._v("贡献表情/图片")]),e._v(" "),a("div",{staticClass:"weui-cells weui-cells_form",attrs:{id:"uploaderCustom"}},[a("div",{staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__bd"},[a("div",{staticClass:"weui-uploader"},[a("div",{staticClass:"weui-uploader__hd"},[a("p",{staticClass:"weui-uploader__title"},[e._v("图片上传")]),e._v(" "),a("div",{staticClass:"weui-uploader__info"},[a("span",{attrs:{id:"uploadCount"}},[e._v("0")]),e._v("/"+e._s(e.maxCount))])]),e._v(" "),e._m(1)])])])]),e._v(" "),a("br"),e._v(" "),a("p",{staticClass:"submit"},[a("wv-button",{attrs:{id:"uploaderCustomBtn",type:"primary"},on:{click:e.showSuccess}},[e._v("提交")])],1),e._v(" "),a("br"),e._v(" "),a("wv-footer",{staticClass:"footer",attrs:{text:"Copyright © 2018 lianailianmeng"}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-gallery"},[t("span",{staticClass:"weui-gallery__img",staticStyle:{"background-image":"url(./images/pic_article.png)"}}),this._v(" "),t("div",{staticClass:"weui-gallery__opr"},[t("a",{staticClass:"weui-gallery__del",attrs:{href:"javascript:"}},[t("i",{staticClass:"weui-icon-delete weui-icon_gallery-delete"})])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-uploader__bd"},[t("ul",{staticClass:"weui-uploader__files",attrs:{id:"uploaderCustomFiles"}}),this._v(" "),t("div",{staticClass:"weui-uploader__input-box"},[t("input",{staticClass:"weui-uploader__input",attrs:{id:"uploaderCustomInput",type:"file",accept:"image/*",multiple:"multiple"}})])])}]};var F=a("VU/8")(S,E,!1,function(e){a("AM6s")},"data-v-a2942c9c",null).exports,B={name:"Feedback",props:["maxCount","uuid","images"],data:function(){return{text:"问题描述或意见反馈",feedback:"",phoneNumber:""}},methods:{showSuccess:function(){var e=this;""===this.feedback?y.a.text({duration:1e3,message:"反馈内容不能为空"}):T.a.post("/feedback",{params:{uuid:this.uuid,feedback:this.feedback,phoneNumber:this.phoneNumber,images:this.images}}).then(function(t){e.$router.push({name:"Reminder",params:{text:"恋爱联盟感谢您的关注与支持，我们会尽快认真处理您的反馈"}})})}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("wv-group",{staticStyle:{"margin-top":"20px"},attrs:{title:"问题描述或意见反馈"}},[a("wv-textarea",{attrs:{placeholder:"请填写问题描述，以便我们提供更好的帮助和改进",rows:6,"show-counter":!1},model:{value:e.feedback,callback:function(t){e.feedback=t},expression:"feedback"}})],1),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"weui-cells weui-cells_form",attrs:{id:"uploaderCustom"}},[a("div",{staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__bd"},[a("div",{staticClass:"weui-uploader"},[a("div",{staticClass:"weui-uploader__hd"},[a("p",{staticClass:"weui-uploader__title"},[e._v("图片上传（填选，提供问题截图）")]),e._v(" "),a("div",{staticClass:"weui-uploader__info"},[a("span",{attrs:{id:"uploadCount"}},[e._v("0")]),e._v("/"+e._s(e.maxCount))])]),e._v(" "),e._m(1)])])])]),e._v(" "),a("wv-group",{attrs:{title:"联系电话"}},[a("wv-input",{attrs:{placeholder:"选填，便于我们与您联系",type:"number"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),e._v(" "),a("p",{staticClass:"submit"},[a("wv-button",{attrs:{id:"uploaderCustomBtn",type:"primary"},on:{click:e.showSuccess}},[e._v("提交反馈")])],1),e._v(" "),a("wv-footer",{staticClass:"footer",attrs:{text:"Copyright © 2018 lianailianmeng"}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-gallery"},[t("span",{staticClass:"weui-gallery__img",staticStyle:{"background-image":"url(./images/pic_article.png)"}}),this._v(" "),t("div",{staticClass:"weui-gallery__opr"},[t("a",{staticClass:"weui-gallery__del",attrs:{href:"javascript:"}},[t("i",{staticClass:"weui-icon-delete weui-icon_gallery-delete"})])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-uploader__bd"},[t("ul",{staticClass:"weui-uploader__files",attrs:{id:"uploaderCustomFiles"}}),this._v(" "),t("div",{staticClass:"weui-uploader__input-box"},[t("input",{staticClass:"weui-uploader__input",attrs:{id:"uploaderCustomInput",type:"file",accept:"image/*",multiple:"multiple"}})])])}]};var O=a("VU/8")(B,M,!1,function(e){a("nyEJ")},"data-v-52ebdbe4",null).exports,R={name:"Feedback",data:function(){return{}},methods:{close:function(){var e=navigator.userAgent;"undefined"!=typeof WeixinJSBridge?WeixinJSBridge.call("closeWindow"):e.indexOf("MSIE")>0?e.indexOf("MSIE 6.0")>0?(window.opener=null,window.close()):(window.open("","_top"),window.top.close()):-1!=e.indexOf("Firefox")||-1!=e.indexOf("Chrome")?window.location.href="about:blank ":(window.opener=null,window.open("","_self",""),window.close())}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("wv-icon",{staticStyle:{"margin-top":"40px"},attrs:{type:"success",large:!0}}),e._v(" "),a("h3",{staticStyle:{"margin-top":"40px"}},[e._v("反馈成功")]),e._v(" "),a("p",[e._v(e._s(e.$route.params.text))]),e._v(" "),a("p",{staticClass:"submit"},[a("wv-button",{attrs:{type:"primary"},on:{click:e.close}},[e._v("关闭")])],1),e._v(" "),a("wv-footer",{staticClass:"footer",attrs:{text:"Copyright © 2018 lianailianmeng"}})],1)},staticRenderFns:[]};var j=a("VU/8")(R,N,!1,function(e){a("jgTu")},"data-v-0602f7bf",null).exports;v.default.use(C.a);var q=new C.a({routes:[{path:"/",redirect:"/contribute"},{path:"/contribute",name:"Contribute",component:F},{path:"/feedback",name:"Feedback",component:O},{path:"/reminder",name:"Reminder",component:j}]});a("4kSj"),a("O694"),a("pDMK");T.a.defaults.baseURL="http://www.lianaizhuli.com/v1/api",v.default.use(h.a),v.default.use(p.a),v.default.use(c.a),v.default.use(r.a),v.default.use(n.a),v.default.use(s.a),v.default.config.productionTip=!1,new v.default({el:"#app",router:q,components:{App:x},template:"<App/>"})},O694:function(e,t){},R5g5:function(e,t){},TNmv:function(e,t){},jgTu:function(e,t){},nyEJ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e521a105683faf45594c.js.map